<div class="card">
    <div class="flex justify-between items-center mb-4">
        <h2>Data Overview</h2>
        <span class="badge badge-success">Generated</span>
    </div>

    {% if dashboard_url %}
    <div class="alert alert-info mb-4">
        <strong>Dashboard created!</strong>
        <a href="{{ dashboard_url }}" target="_blank" class="link">Open in Grafana</a>
    </div>
    {% endif %}

    {% if overview.title %}
    <div class="mb-4">
        <strong>Title:</strong> {{ overview.title }}
    </div>
    {% endif %}

    {% if overview.panels %}
    <div class="mb-4">
        <strong>Panels ({{ overview.panels | length }}):</strong>
        <ul class="text-sm" style="list-style: disc; padding-left: 1.5rem;">
            {% for panel in overview.panels %}
            <li>
                <strong>{{ panel.title or panel.get('viz', {}).get('title', 'Panel') }}</strong>
                ({{ panel.type or panel.get('viz', {}).get('type', 'chart') }})
                {% if panel.sql %}
                <pre class="sql-block" style="font-size: 0.75rem; padding: 0.5rem; margin: 0.5rem 0;">{{ panel.sql }}</pre>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
